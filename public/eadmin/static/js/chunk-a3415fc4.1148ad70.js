(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a3415fc4"],{"0ad0":function(e,t,n){"use strict";n.r(t);var a=n("f2bf"),o={ref:"container",style:{width:"100%",height:"100%"}},c={style:{position:"absolute",left:"80px",top:"10px"}},l={style:{position:"absolute",right:"10px",bottom:"10px"}},i={class:"info"};function r(e,t,n,r,d,p){var u=Object(a["resolveComponent"])("el-button"),s=Object(a["resolveComponent"])("el-input"),m=Object(a["resolveComponent"])("el-card"),f=Object(a["resolveComponent"])("el-drawer");return Object(a["openBlock"])(),Object(a["createBlock"])("div",null,[Object(a["createVNode"])(s,{modelValue:e.mapAddress,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.mapAddress=t})},{append:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(u,{icon:"el-icon-map-location",onClick:t[1]||(t[1]=function(t){return e.drawer=!0})},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.trans("amap.map")),1)]})),_:1})]})),_:1},8,["modelValue"]),Object(a["createVNode"])(f,{"custom-class":"el-drawers","append-to-body":!0,modelValue:e.drawer,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.drawer=t}),direction:"ttb",size:"50%","destroy-on-close":!0,"with-header":!1,onOpened:e.init},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])("div",o,null,512),Object(a["createVNode"])("div",c,[Object(a["createVNode"])(m,{"body-style":{padding:"10px"}},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(s,{id:"tipinput",modelValue:e.searchText,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.searchText=t}),placeholder:e.trans("amap.placeholder"),size:"mini","prefix-icon":"el-icon-search"},null,8,["modelValue","placeholder"])]})),_:1})]),Object(a["createVNode"])("div",l,[Object(a["createVNode"])(m,{"body-style":{padding:"10px"}},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])("div",i,[Object(a["createVNode"])("b",null,Object(a["toDisplayString"])(e.trans("amap.select"))+": ",1),Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.mapAddress),1)])]})),_:1})])]})),_:1},8,["modelValue","onOpened"])])}n("a9e3"),n("a15b"),n("ac1f"),n("841c"),n("b0c0");var d=n("d257"),p=Object(a["defineComponent"])({name:"EadminAmap",props:{modelValue:String,lat:[Number,String],lng:[Number,String],apiKey:{type:String,default:""}},emits:["update:modelValue","update:lat","update:lng"],setup:function(e,t){var n=Object(a["ref"])(""),o=Object(a["ref"])(""),c=Object(a["ref"])(!1),l=Object(a["ref"])(e.modelValue);function i(e,t){var n=document.createElement("script");n.charset="utf-8",n.id=t,n.src=e,document.head.appendChild(n)}Object(a["onMounted"])((function(){if(null==document.getElementById("amapscript")){var t="https://webapi.amap.com/maps?v=1.4.15&key="+e.apiKey+"&plugin=AMap.Autocomplete,AMap.PlaceSearch,AMap.Geocoder,AMap.Geolocation";i(t,"amapscript")}})),Object(a["watch"])(l,(function(e){t.emit("update:modelValue",e)}));var r=null,p=null,u=null,s=null,m=null,f=e.lng,b=e.lat;function O(e){b=e.position.lat,f=e.position.lng,t.emit("update:modelValue",e.formattedAddress),t.emit("update:lat",b),t.emit("update:lng",f),j()}function j(){r.setCenter([f,b]),s=new AMap.Marker({position:[f,b],map:r});var t=[];t.push("<div class='input-card content-window-card'> "),t.push("<p class='input-item'>"+e.modelValue+"</p></div></div>");var n=new AMap.InfoWindow({content:t.join(""),offset:new AMap.Pixel(0,-35)});n.open(r,[f,b]),r.setFitView([s])}function w(e){m.getAddress(e.lnglat,(function(t,n){"complete"===t&&n.regeocode&&(h(n.regeocode.formattedAddress,e.lnglat.lat,e.lnglat.lng),s&&r.remove(s),j())}))}function g(){m=new AMap.Geocoder({extensions:"all"}),r=new AMap.Map(n.value,{resizeEnable:!0}),b&&f?j():(AMap.plugin("AMap.Geolocation",(function(){p=new AMap.Geolocation({enableHighAccuracy:!0,timeout:1e4,buttonOffset:new AMap.Pixel(10,20),zoomToAccuracy:!0,buttonPosition:"RB"})})),p.getCurrentPosition(),AMap.event.addListener(p,"complete",O)),r.on("click",w);var e=new AMap.Autocomplete({input:"tipinput"});u=new AMap.PlaceSearch({map:r}),r.plugin(["AMap.ToolBar"],(function(){r.addControl(new AMap.ToolBar)})),-1!==location.href.indexOf("&guide=1")&&r.setStatus({scrollWheel:!1}),AMap.event.addListener(e,"select",A),AMap.event.addListener(u,"markerClick",(function(e){h(e.data.address,e.data.location.lat,e.data.location.lng)}))}function h(e,n,a){b=n,f=a,l.value=e,t.emit("update:modelValue",e),t.emit("update:lat",n),t.emit("update:lng",a)}function A(e){var t=e.poi;u.setCity(t.adcode),u.search(t.name),h(t.district+t.address,t.location.lat,t.location.lng)}return{init:g,searchText:o,drawer:c,mapAddress:l,container:n,trans:d["u"]}}});n("c915");p.render=r;t["default"]=p},"8f97":function(e,t,n){},c915:function(e,t,n){"use strict";n("8f97")}}]);